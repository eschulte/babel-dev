---
title: DEFERRED Improve external shell issues under Windows (with R at least)
layout: default
---



<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="done DEFERRED"> DEFERRED</span> Improve external shell issues under Windows (with R at least) </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li>
State "DEFERRED"   from "PROPOSED" <span class="timestamp-wrapper"> <span class="timestamp">2010-02-03 Wed 13:21</span></span>
</li>
<li>
State "PROPOSED"   from "" <span class="timestamp-wrapper"> <span class="timestamp">2010-01-13 Wed 12:18</span></span>

</li>
</ul>

<p>I'm wondering whether we should implement some windows-specific
hackery to make it less likely that users will have problems with
R under windows.
</p>
<p>
If someone wants to submit a Windows specific patch I'd be happy
to apply it, I however have no access to a Windows machine [Eric].
</p>
<p>
Two users have now mailed the list reporting that they can't get
org-babel to work with R under Windows. The problem stems from the
fact that we use the external shell execution as default, but
under Windows it is quite often the case that users have not set
their system up so that "R" is in the shell path. One possibility
would be to make session (ESS) the R Windows default when
available. Another approach is suggested by this email by d.tchin:
</p>

</div>

<div id="outline-container-1.1" class="outline-3">
<h3 id="sec-1.1">d.tchin R Windows shell email </h3>
<div class="outline-text-3" id="text-1.1">

<blockquote>

<pre class="example">
     From: "d.tchin" &lt;d.tchin@voila.fr&gt;
     Subject: [Orgmode] Re: org-babel-R  and windows ?
     User-Agent: Loom/3.14 (http://gmane.org/)
     Date: Wed, 13 Jan 2010 09:20:11 +0000 (UTC)
     To: emacs-orgmode@gnu.org

     Dan Davison &lt;davison &lt;at&gt; stats.ox.ac.uk&gt; writes:
     &gt; The org-babel default is to invoke R as an external shell command, and I
     &gt; think this is what is causing the problem. It requires that the emacs
     &gt; function shell-command can use the string "R" to invoke an R process,
     &gt; i.e. the R installation and the shell path must be such that this is the
     &gt; case.

     Thank you for the information and explanation.
     It seems that the problem comes from the windows shell. 

     I try the following :  I explicitely told emacs to use bash 
     with the following instructions :
     (setq explicit-shell-file-name "C:/msys/1.0/bin/bash.exe")
     (setq shell-file-name explicit-shell-file-name)

     It works with bash.


     &gt; 
     &gt; #+srcname:trial
     &gt; #+begin_src R :session org-babel-R-session
     &gt;    c(4,5,6,7,8,9)
     &gt; #+end_src

     The "session" way works too.

     Thank you.  
</pre>


</blockquote>


</div>

</div>

<div id="outline-container-1.2" class="outline-3">
<h3 id="sec-1.2">Bernd Weiss email </h3>
<div class="outline-text-3" id="text-1.2">

<p><a href="http://www.mail-archive.com/emacs-orgmode@gnu.org/msg19104.html">http://www.mail-archive.com/emacs-orgmode@gnu.org/msg19104.html</a>
</p></div>
</div>
</div>
