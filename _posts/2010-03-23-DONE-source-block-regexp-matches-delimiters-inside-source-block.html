---
title: DONE source block regexp matches delimiters inside source block
layout: default
---

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="done DONE"> DONE</span> source block regexp matches delimiters inside source block </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li>
State "DONE"       from "DONE" <span class="timestamp-wrapper"> <span class="timestamp">2010-03-23 Tue 11:30</span></span>
</li>
</ul>

<p>Thanks to Maurizio for pointing out this error.
</p>
<blockquote>

<pre class="example">
And these are two test cases. I'm particularly puzzled by the first,
because the regexp seems to be anchored to the begin of line and hence
it shouldn't match the begin_src inside the string.
For end_src, it should probably be anchored to the begin of line.

[...] below

Best regards,

     Maurizio   
</pre>


</blockquote>


<pre class="example">
#+begin_src emacs-lisp
;;; evaluating the following C-x C-e with the point at the end is ok
(message "%d" (org-babel-where-is-src-block-head))
(defun foo () (insert "#+begin_src emacs-lisp"))
;;; evaluating the following C-x C-e with the point at the end is not ok
(message "%d" (org-babel-where-is-src-block-head))
#+end_src

#+results:
: 182800

#+begin_src emacs-lisp
;;; evaluating the following C-x C-e with the point at the end is ok
(org-babel-where-is-src-block-head)
(defun foo () (insert "#+end_src emacs-lisp"))
;;; evaluating the following C-x C-e with the point at the end is not ok
(org-babel-where-is-src-block-head)
#+end_src

#+results:
: 183148

#+begin_src ruby
  "#+end_src"
#+end_src

#+results:
: #+end_src
</pre>

</div>
</div>
