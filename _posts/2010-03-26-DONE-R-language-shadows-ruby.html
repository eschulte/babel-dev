---
title: DONE R language shadows ruby
layout: default
---

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="done DONE"> DONE</span> R language shadows ruby </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li>
State "DONE"       from "TODO" <span class="timestamp-wrapper"> <span class="timestamp">2010-03-26 Fri 20:54</span></span>
</li>
<li>
State "TODO"       from "TODO" <span class="timestamp-wrapper"> <span class="timestamp">2010-01-18 Mon 13:39</span></span>
</li>
<li>
State "TODO"       from "" <span class="timestamp-wrapper"> <span class="timestamp">2009-12-31 Thu 12:57</span></span>
</li>
</ul>


<p>
simple fix, we just sort the language names by length, that way the
longer names will be tried first and the shorter names won't have a
chance to overshadow them.
</p>



<pre class="src src-emacs-lisp"><span class="org-esk-paren">(</span>setq org-babel-interpreters
      <span class="org-esk-paren">(</span>sort <span class="org-esk-paren">(</span>cons interpreter org-babel-interpreters<span class="org-esk-paren">)</span>
            <span class="org-esk-paren">(</span><span class="org-keyword">lambda</span> <span class="org-esk-paren">(</span>left right<span class="org-esk-paren">)</span>
              <span class="org-esk-paren">(</span>&gt; <span class="org-esk-paren">(</span>length left<span class="org-esk-paren">)</span> <span class="org-esk-paren">(</span>length right<span class="org-esk-paren">)))))</span>
</pre>



<p>
DED: I think this requires tightening up of
org-babel-src-block-regexp, so that the language identifiers have
appropriate delimiters around them.
</p>
<p>
Thanks to Daniel Doherty for submitting the following report
</p>
<p>
I'm not on this mailing list, but thought this would be the right
place to pass along a bug in org-babek that had me baffled for a long
time.
</p>
<p>
I was initializing org-babel with the following from my init.el file
</p>



<pre class="src src-emacs-lisp"><span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-init</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-ruby</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-R</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-python</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span>org-babel-load-library-of-babel<span class="org-esk-paren">)</span>
</pre>



<p>
When executing a ruby src block, I would get an error saying that the "r" language was not a
babel-interpreter.
</p>
<p>
When I change the order of the language initializations, the error goes away:
</p>



<pre class="src src-emacs-lisp"><span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-init</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-R</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-ruby</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span><span class="org-keyword">require</span> '<span class="org-constant">org-babel-python</span><span class="org-esk-paren">)</span>
<span class="org-esk-paren">(</span>org-babel-load-library-of-babel<span class="org-esk-paren">)</span>
</pre>



<p>
Now, ruby is recognized.Â  Looks like the function for parsing the src block is seeing the 'r' in ruby and
stopping
because 'R" is a valid language, but then choking when it tries to run 'r'.  
</p></div>
</div>
