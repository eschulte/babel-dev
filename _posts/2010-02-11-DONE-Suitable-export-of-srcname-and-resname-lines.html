---
title: DONE Suitable export of #+srcname and #+resname lines
layout: default
---

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="done DONE"> DONE</span> Suitable export of #+srcname and #+resname lines </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li>
State "DONE"       from "STARTED" <span class="timestamp-wrapper"> <span class="timestamp">2010-02-11 Thu 09:46</span></span>
</li>
<li>
State "STARTED"    from "TODO" <span class="timestamp-wrapper"> <span class="timestamp">2010-01-04 Mon 15:05</span></span>
</li>
<li>
State "TODO"       from "STARTED" <span class="timestamp-wrapper"> <span class="timestamp">2010-01-04 Mon 09:31</span></span>
</li>
</ul>


</div>

<div id="outline-container-1_1" class="outline-3">
<h3 id="sec-1_1">update &ndash; exporting arguments with source names </h3>
<div class="outline-text-3" id="text-1_1">


<p>
We are now exporting arguments with source-block names and wrapping
source-code blocks and names in <code>div</code> which is given the
<code>org-src-container</code> class.  This allows for styling of the name and
block, and for explicit association of the name and block using css
like the following which we will apply here with an HTML block
</p><pre class="example">
#+begin_html
  &lt;style type="text/css"&gt;
    .org-src-container {
    border-left: 4px solid gray; /* gray bar offsetting code and name */
    padding: 0.5em 0.5em 0.5em 1em; }
    .org-src-container pre {
      margin-left: 1em; }        /* indentation of code blocks w/names */
  &lt;/style&gt;
#+end_html
</pre>


  <style type="text/css">
    .org-src-container {
    border-left: 4px solid gray; /* gray bar offsetting code and name */
    padding: 0.5em 0.5em 0.5em 1em; }
    .org-src-container pre {
      margin-left: 1em; }        /* indentation of code blocks w/names */
  </style>

<p>
So, for example the following <b>raw</b> org-mode text
</p>
<pre class="example">
#+source: fibonacci
#+begin_src emacs-lisp :var input=0
  (defun fib (n)
    (if (&gt; n 1)
        (+ (fib (- n 1)) (fib (- n 2)))
        1))
  (fib input)
#+end_src

#+results: fibonacci
: 1

now applying our Fibonacci function

#+call: fibonacci(input=5)

#+results: fibonacci(input=5)
: 8
</pre>


<p>
exports to the following <b>html</b>
</p>



<div class="org-src-container"><label class="org-src-name">fibonacci(input=0)</label><pre class="src src-emacs-lisp">
(<span class="org-keyword">defun</span> <span class="org-function-name">fib</span> (n)
  (<span class="org-keyword">if</span> (&gt; n 1)
      (+ (fib (- n 1)) (fib (- n 2)))
      1))
(fib input)
</pre></div>




<p>
now applying our Fibonacci function
</p>



<label class="org-src-name">fibonacci(input=5)</label>



</div>

</div>

<div id="outline-container-1_2" class="outline-3">
<h3 id="sec-1_2">older </h3>
<div class="outline-text-3" id="text-1_2">

<p>The current fix here takes the simplest possible approach.  The name
of a source-code block is placed in the <code>org-caption</code> text property
and `org-export-format-source-code-or-example' then reads this
property and adds the name to the export.
</p>
<p>
So the following source-code block
</p>
<pre class="example">
#+source: square
#+begin_src emacs-lisp :var input=1
  (* input input)
#+end_src
</pre>


<p>
exports to the following html
</p>



<div class="org-src-container"><label class="org-src-name">square(input=1)</label><pre class="src src-emacs-lisp">
(* input input)
</pre></div>



<p>
which is the following raw html
</p>



<pre class="src src-html">&lt;<span class="org-function-name">label</span> <span class="org-variable-name">class</span>=<span class="org-string">"org-src-name"</span>&gt;square&lt;/<span class="org-function-name">label</span>&gt;
&lt;<span class="org-function-name">pre</span> <span class="org-variable-name">class</span>=<span class="org-string">"src src-emacs-lisp"</span>&gt;
&lt;<span class="org-function-name">span</span> <span class="org-variable-name">style</span>=<span class="org-string">"color: #7f7f7f;"</span>&gt;(&lt;/<span class="org-function-name">span</span>&gt;* input input&lt;<span class="org-function-name">span</span> <span class="org-variable-name">style</span>=<span class="org-string">"color: #7f7f7f;"</span>&gt;)&lt;/<span class="org-function-name">span</span>&gt;
&lt;/<span class="org-function-name">pre</span>&gt;
</pre>



<p>
and the following raw latex
</p>



<pre class="src src-latex"><span class="org-keyword">\lstset</span>{language=Lisp}<span class="org-keyword">\begin</span>{<span class="org-function-name">lstlisting</span>}[title={square}]
(* input input)
<span class="org-keyword">\end</span>{<span class="org-function-name">lstlisting</span>}
</pre>



<p>
There is much room here for stylistic improvement and hopefully this
initial implementation will spur discussion/suggestions for how to
improve the appearance and content of these exported source-names.
</p></div>
</div>
</div>
