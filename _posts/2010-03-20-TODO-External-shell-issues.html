---
title: TODO External shell issues
layout: default
---

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="todo TODO"> TODO</span> External shell issues </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li>
State "TODO"       from "" <span class="timestamp-wrapper"> <span class="timestamp">2010-03-20 Sat 12:32</span></span>
</li>
</ul>

</div>

<div id="outline-container-1.1" class="outline-3">
<h3 id="sec-1.1"><span class="todo TODO"> TODO</span> org-babel-sh explicitly specify the shell </h3>
<div class="outline-text-3" id="text-1.1">

<p>this should be possible as source-code execution shouldn't depend on
the values of user-specific information (i.e. the user's shell)
</p>
</div>

</div>

<div id="outline-container-1.2" class="outline-3">
<h3 id="sec-1.2"><span class="done DEFERRED"> DEFERRED</span> Improve external shell issues under Windows (with R at least) </h3>
<div class="outline-text-3" id="text-1.2">

<ul>
<li>
State "DEFERRED"   from "PROPOSED" <span class="timestamp-wrapper"> <span class="timestamp">2010-02-03 Wed 13:21</span></span>
</li>
<li>
State "PROPOSED"   from "" <span class="timestamp-wrapper"> <span class="timestamp">2010-01-13 Wed 12:18</span></span>
</li>
</ul>


<p>
I'm wondering whether we should implement some windows-specific
hackery to make it less likely that users will have problems with
R under windows.
</p>
<p>
If someone wants to submit a Windows specific patch I'd be happy
to apply it, I however have no access to a Windows machine [Eric].
</p>
<p>
Two users have now mailed the list reporting that they can't get
org-babel to work with R under Windows. The problem stems from the
fact that we use the external shell execution as default, but
under Windows it is quite often the case that users have not set
their system up so that "R" is in the shell path. One possibility
would be to make session (ESS) the R Windows default when
available. Another approach is suggested by this email by d.tchin:
</p>

</div>

<div id="outline-container-1.2.1" class="outline-4">
<h4 id="sec-1.2.1">d.tchin R Windows shell email </h4>
<div class="outline-text-4" id="text-1.2.1">


<p class="verse">
From: "d.tchin" &lt;d.tchin@voila.fr&gt;<br/>
Subject: [Orgmode] Re: org-babel-R  and windows ?<br/>
User-Agent: Loom/3.14 (<a href="http://gmane.org/">http://gmane.org/</a>)<br/>
Date: Wed, 13 Jan 2010 09:20:11 +0000 (UTC)<br/>
To: emacs-orgmode@gnu.org<br/>
<br/>
Dan Davison &lt;davison &lt;at&gt; stats.ox.ac.uk&gt; writes:<br/>
&gt; The org-babel default is to invoke R as an external shell command, and I<br/>
&gt; think this is what is causing the problem. It requires that the emacs<br/>
&gt; function shell-command can use the string "R" to invoke an R process,<br/>
&gt; i.e. the R installation and the shell path must be such that this is the<br/>
&gt; case.<br/>
<br/>
Thank you for the information and explanation.<br/>
It seems that the problem comes from the windows shell. <br/>
<br/>
I try the following :  I explicitely told emacs to use bash <br/>
with the following instructions :<br/>
(setq explicit-shell-file-name "C:/msys/1.0/bin/bash.exe")<br/>
(setq shell-file-name explicit-shell-file-name)<br/>
<br/>
It works with bash.<br/>
<br/>
<br/>
&gt; <br/>
&gt; #+srcname:trial<br/>
&gt; #+begin<sub>src</sub> R :session org-babel-R-session<br/>
&gt;    c(4,5,6,7,8,9)<br/>
&gt; #+end<sub>src\\</sub>
<br/>
The "session" way works too.<br/>
<br/>
Thank you.  <br/>
</p>


</div>

</div>

<div id="outline-container-1.2.2" class="outline-4">
<h4 id="sec-1.2.2">Bernd Weiss email </h4>
<div class="outline-text-4" id="text-1.2.2">

<p><a href="http://www.mail-archive.com/emacs-orgmode@gnu.org/msg19104.html">http://www.mail-archive.com/emacs-orgmode@gnu.org/msg19104.html</a>
</p></div>
</div>
</div>
</div>
